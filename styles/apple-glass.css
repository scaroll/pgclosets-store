/**
 * Apple Design System - Glass Morphism & Depth
 * Frosted glass effects with backdrop blur and elevation system
 *
 * Design Philosophy:
 * - Layered transparency with blur
 * - Subtle depth through shadows
 * - Material design inspired by macOS
 * - Performance-optimized backdrop filters
 * - Accessible contrast ratios
 */

/* ============================================================================
   GLASS MORPHISM SYSTEM
   ============================================================================ */

:root {
  /* Glass Blur Levels */
  --glass-blur-none: 0;
  --glass-blur-xs: 4px;
  --glass-blur-sm: 8px;
  --glass-blur-md: 20px;
  --glass-blur-lg: 40px;
  --glass-blur-xl: 64px;

  /* Glass Saturation */
  --glass-saturation: 180%;

  /* Glass Opacity Levels */
  --glass-opacity-light: 0.72;
  --glass-opacity-medium: 0.85;
  --glass-opacity-heavy: 0.92;

  /* Glass Background Colors */
  --glass-bg-white: rgba(255, 255, 255, var(--glass-opacity-light));
  --glass-bg-white-medium: rgba(255, 255, 255, var(--glass-opacity-medium));
  --glass-bg-white-heavy: rgba(255, 255, 255, var(--glass-opacity-heavy));

  --glass-bg-dark: rgba(29, 29, 31, var(--glass-opacity-light));
  --glass-bg-dark-medium: rgba(29, 29, 31, var(--glass-opacity-medium));
  --glass-bg-dark-heavy: rgba(29, 29, 31, var(--glass-opacity-heavy));

  --glass-bg-primary: rgba(0, 113, 227, 0.12);
  --glass-bg-secondary: rgba(134, 134, 139, 0.12);
  --glass-bg-success: rgba(48, 209, 88, 0.12);
  --glass-bg-warning: rgba(255, 149, 0, 0.12);
  --glass-bg-error: rgba(255, 59, 48, 0.12);

  /* Glass Border Colors */
  --glass-border-light: rgba(255, 255, 255, 0.18);
  --glass-border-light-subtle: rgba(255, 255, 255, 0.08);
  --glass-border-dark: rgba(255, 255, 255, 0.12);
  --glass-border-dark-subtle: rgba(0, 0, 0, 0.12);

  /* ========================================================================
     DEPTH SYSTEM - Elevation Levels
     ======================================================================== */

  /* Elevation 0 - Flat surface */
  --elevation-0: none;

  /* Elevation 1 - Subtle lift (cards, buttons) */
  --elevation-1:
    0 1px 2px 0 rgba(0, 0, 0, 0.05),
    0 1px 3px 0 rgba(0, 0, 0, 0.08);

  /* Elevation 2 - Standard lift (elevated cards) */
  --elevation-2:
    0 2px 4px 0 rgba(0, 0, 0, 0.06),
    0 4px 8px 0 rgba(0, 0, 0, 0.08);

  /* Elevation 3 - Prominent lift (modals, popovers) */
  --elevation-3:
    0 4px 8px 0 rgba(0, 0, 0, 0.08),
    0 8px 16px 0 rgba(0, 0, 0, 0.1);

  /* Elevation 4 - Strong lift (dropdowns, menus) */
  --elevation-4:
    0 8px 16px 0 rgba(0, 0, 0, 0.1),
    0 16px 32px 0 rgba(0, 0, 0, 0.12);

  /* Elevation 5 - Maximum lift (dialogs, overlays) */
  --elevation-5:
    0 16px 32px 0 rgba(0, 0, 0, 0.12),
    0 24px 48px 0 rgba(0, 0, 0, 0.16);

  /* ========================================================================
     DEPTH SYSTEM - Dark Mode
     ======================================================================== */

  --elevation-1-dark:
    0 1px 2px 0 rgba(0, 0, 0, 0.3),
    0 1px 3px 0 rgba(0, 0, 0, 0.4);

  --elevation-2-dark:
    0 2px 4px 0 rgba(0, 0, 0, 0.4),
    0 4px 8px 0 rgba(0, 0, 0, 0.5);

  --elevation-3-dark:
    0 4px 8px 0 rgba(0, 0, 0, 0.5),
    0 8px 16px 0 rgba(0, 0, 0, 0.6);

  --elevation-4-dark:
    0 8px 16px 0 rgba(0, 0, 0, 0.6),
    0 16px 32px 0 rgba(0, 0, 0, 0.7);

  --elevation-5-dark:
    0 16px 32px 0 rgba(0, 0, 0, 0.7),
    0 24px 48px 0 rgba(0, 0, 0, 0.8);
}

/* ============================================================================
   GLASS MORPHISM COMPONENTS
   ============================================================================ */

/* Base Glass Effect */
.glass {
  background: var(--glass-bg-white);
  backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  border: 1px solid var(--glass-border-light);
}

/* Glass Variants - Blur Levels */
.glass-blur-sm {
  backdrop-filter: blur(var(--glass-blur-sm)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm)) saturate(var(--glass-saturation));
}

.glass-blur-md {
  backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
}

.glass-blur-lg {
  backdrop-filter: blur(var(--glass-blur-lg)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg)) saturate(var(--glass-saturation));
}

/* Glass Variants - Opacity */
.glass-light {
  background: var(--glass-bg-white);
  border: 1px solid var(--glass-border-light);
}

.glass-medium {
  background: var(--glass-bg-white-medium);
  border: 1px solid var(--glass-border-light);
}

.glass-heavy {
  background: var(--glass-bg-white-heavy);
  border: 1px solid var(--glass-border-light-subtle);
}

/* Dark Glass Variants */
.glass-dark {
  background: var(--glass-bg-dark);
  border: 1px solid var(--glass-border-dark);
}

.glass-dark-medium {
  background: var(--glass-bg-dark-medium);
  border: 1px solid var(--glass-border-dark);
}

.glass-dark-heavy {
  background: var(--glass-bg-dark-heavy);
  border: 1px solid var(--glass-border-dark-subtle);
}

/* Colored Glass Variants */
.glass-primary {
  background: var(--glass-bg-primary);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid rgba(0, 113, 227, 0.2);
}

.glass-secondary {
  background: var(--glass-bg-secondary);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid rgba(134, 134, 139, 0.2);
}

.glass-success {
  background: var(--glass-bg-success);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid rgba(48, 209, 88, 0.2);
}

.glass-warning {
  background: var(--glass-bg-warning);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid rgba(255, 149, 0, 0.2);
}

.glass-error {
  background: var(--glass-bg-error);
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
  border: 1px solid rgba(255, 59, 48, 0.2);
}

/* ============================================================================
   GLASS CARD COMPONENTS
   ============================================================================ */

.glass-card {
  background: var(--glass-bg-white);
  backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  border: 1px solid var(--glass-border-light);
  border-radius: 18px;
  padding: var(--space-6);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-card:hover {
  background: var(--glass-bg-white-medium);
  transform: translateY(-2px);
  box-shadow: var(--elevation-3);
}

.glass-card-dark {
  background: var(--glass-bg-dark);
  border: 1px solid var(--glass-border-dark);
}

.glass-card-dark:hover {
  background: var(--glass-bg-dark-medium);
}

/* ============================================================================
   GLASS NAVIGATION
   ============================================================================ */

.glass-nav {
  background: var(--glass-bg-white-heavy);
  backdrop-filter: blur(var(--glass-blur-lg)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg)) saturate(var(--glass-saturation));
  border-bottom: 1px solid var(--glass-border-light-subtle);
  position: sticky;
  top: 0;
  z-index: 100;
}

.glass-nav-dark {
  background: var(--glass-bg-dark-heavy);
  border-bottom: 1px solid var(--glass-border-dark-subtle);
}

/* ============================================================================
   GLASS MODAL/OVERLAY
   ============================================================================ */

.glass-modal {
  background: var(--glass-bg-white-heavy);
  backdrop-filter: blur(var(--glass-blur-xl)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-xl)) saturate(var(--glass-saturation));
  border: 1px solid var(--glass-border-light);
  border-radius: 24px;
  box-shadow: var(--elevation-5);
}

.glass-modal-dark {
  background: var(--glass-bg-dark-heavy);
  border: 1px solid var(--glass-border-dark);
  box-shadow: var(--elevation-5-dark);
}

.glass-backdrop {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(var(--glass-blur-sm));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm));
}

/* ============================================================================
   ELEVATION UTILITIES
   ============================================================================ */

.elevation-0 { box-shadow: var(--elevation-0); }
.elevation-1 { box-shadow: var(--elevation-1); }
.elevation-2 { box-shadow: var(--elevation-2); }
.elevation-3 { box-shadow: var(--elevation-3); }
.elevation-4 { box-shadow: var(--elevation-4); }
.elevation-5 { box-shadow: var(--elevation-5); }

/* Hover Elevation */
.elevation-hover-1:hover { box-shadow: var(--elevation-1); }
.elevation-hover-2:hover { box-shadow: var(--elevation-2); }
.elevation-hover-3:hover { box-shadow: var(--elevation-3); }

/* Dark Mode Elevations */
[data-theme="dark"] .elevation-1,
.dark .elevation-1 { box-shadow: var(--elevation-1-dark); }

[data-theme="dark"] .elevation-2,
.dark .elevation-2 { box-shadow: var(--elevation-2-dark); }

[data-theme="dark"] .elevation-3,
.dark .elevation-3 { box-shadow: var(--elevation-3-dark); }

[data-theme="dark"] .elevation-4,
.dark .elevation-4 { box-shadow: var(--elevation-4-dark); }

[data-theme="dark"] .elevation-5,
.dark .elevation-5 { box-shadow: var(--elevation-5-dark); }

/* ============================================================================
   DEPTH INTERACTIONS
   ============================================================================ */

.depth-interactive {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.depth-interactive:hover {
  transform: translateY(-2px);
}

.depth-interactive:active {
  transform: translateY(0);
}

/* ============================================================================
   GLASS BUTTON
   ============================================================================ */

.glass-button {
  background: var(--glass-bg-white-medium);
  backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-md)) saturate(var(--glass-saturation));
  border: 1px solid var(--glass-border-light);
  border-radius: 980px; /* Pill shape */
  padding: 12px 24px;
  font-weight: 600;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
}

.glass-button:hover {
  background: var(--glass-bg-white-heavy);
  transform: translateY(-1px);
  box-shadow: var(--elevation-2);
}

.glass-button:active {
  transform: translateY(0);
}

.glass-button-dark {
  background: var(--glass-bg-dark-medium);
  border: 1px solid var(--glass-border-dark);
}

.glass-button-dark:hover {
  background: var(--glass-bg-dark-heavy);
}

/* ============================================================================
   GLASS INPUT
   ============================================================================ */

.glass-input {
  background: var(--glass-bg-white-medium);
  backdrop-filter: blur(var(--glass-blur-sm)) saturate(var(--glass-saturation));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm)) saturate(var(--glass-saturation));
  border: 1px solid var(--glass-border-light);
  border-radius: 12px;
  padding: 12px 16px;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.glass-input:focus {
  background: var(--glass-bg-white-heavy);
  border-color: var(--color-primary);
  outline: none;
  box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
}

/* ============================================================================
   BACKDROP BLUR UTILITIES
   ============================================================================ */

.backdrop-blur-none {
  backdrop-filter: blur(var(--glass-blur-none));
  -webkit-backdrop-filter: blur(var(--glass-blur-none));
}

.backdrop-blur-sm {
  backdrop-filter: blur(var(--glass-blur-sm));
  -webkit-backdrop-filter: blur(var(--glass-blur-sm));
}

.backdrop-blur-md {
  backdrop-filter: blur(var(--glass-blur-md));
  -webkit-backdrop-filter: blur(var(--glass-blur-md));
}

.backdrop-blur-lg {
  backdrop-filter: blur(var(--glass-blur-lg));
  -webkit-backdrop-filter: blur(var(--glass-blur-lg));
}

.backdrop-blur-xl {
  backdrop-filter: blur(var(--glass-blur-xl));
  -webkit-backdrop-filter: blur(var(--glass-blur-xl));
}

/* ============================================================================
   PERFORMANCE OPTIMIZATION
   ============================================================================ */

/* GPU Acceleration */
.glass,
.glass-card,
.glass-button,
.glass-input,
.glass-modal {
  transform: translateZ(0);
  will-change: transform;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
  .glass,
  .glass-card,
  .glass-button,
  .depth-interactive {
    transition: none;
  }
}

/* ============================================================================
   DARK MODE ADAPTATIONS
   ============================================================================ */

[data-theme="dark"] .glass,
.dark .glass {
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
}

[data-theme="dark"] .glass-card,
.dark .glass-card {
  background: var(--glass-bg-dark);
  border-color: var(--glass-border-dark);
}

[data-theme="dark"] .glass-button,
.dark .glass-button {
  background: var(--glass-bg-dark-medium);
  border-color: var(--glass-border-dark);
}

[data-theme="dark"] .glass-input,
.dark .glass-input {
  background: var(--glass-bg-dark-medium);
  border-color: var(--glass-border-dark);
}
