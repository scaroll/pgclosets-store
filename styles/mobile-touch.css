/* =============================================================================
   MOBILE-TOUCH.CSS - TOUCH TARGET OPTIMIZATION FOR MOBILE DEVICES
   ============================================================================= */

/* =============================================================================
   TOUCH TARGET STANDARDS
   - Minimum 44x44px for all interactive elements (WCAG 2.1 AA)
   - Optimal 48x48px for better usability
   - Adequate spacing between touch targets
   ============================================================================= */

/* =============================================================================
   GLOBAL TOUCH TARGET STANDARDS
   ============================================================================= */

/* Base interactive element sizing */
button,
[role="button"],
input[type="button"],
input[type="submit"],
input[type="reset"],
.btn,
.button {
  min-height: 44px;
  min-width: 44px;
  padding: 12px 16px;
  margin: 4px 2px;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  touch-action: manipulation;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* Links with adequate touch targets */
a {
  min-height: 44px;
  padding: 8px 4px;
  display: inline-flex;
  align-items: center;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Form controls with proper sizing */
input[type="text"],
input[type="email"],
input[type="password"],
input[type="tel"],
input[type="url"],
input[type="search"],
input[type="number"],
input[type="date"],
input[type="time"],
input[type="datetime-local"],
input[type="month"],
input[type="week"],
textarea,
select {
  min-height: 44px;
  padding: 12px 16px;
  font-size: 16px; /* Prevents zoom on iOS */
  touch-action: manipulation;
}

/* Checkbox and radio button containers */
input[type="checkbox"],
input[type="radio"] {
  width: 20px;
  height: 20px;
  margin: 12px; /* Creates 44px touch target with margin */
}

/* Label containers for checkboxes and radios */
.checkbox-container,
.radio-container {
  min-height: 44px;
  padding: 12px 8px;
  display: flex;
  align-items: center;
  cursor: pointer;
  touch-action: manipulation;
}

/* =============================================================================
   MOBILE-SPECIFIC TOUCH ENHANCEMENTS
   ============================================================================= */

@media (max-width: 768px) {
  /* Enhanced touch targets for mobile */
  button,
  [role="button"],
  .btn {
    min-height: 48px;
    min-width: 48px;
    padding: 14px 20px;
    margin: 6px 4px;
    font-size: 16px;
  }

  /* Mobile links with better touch area */
  a {
    min-height: 48px;
    padding: 12px 8px;
    line-height: 1.2;
  }

  /* Mobile form elements */
  input,
  textarea,
  select {
    min-height: 48px;
    padding: 14px 16px;
    font-size: 16px;
    border-radius: 8px;
  }

  /* Mobile navigation items */
  .nav-item,
  .menu-item {
    min-height: 48px;
    padding: 14px 16px;
    margin: 2px 0;
    display: flex;
    align-items: center;
  }

  /* Card-based touch targets */
  .card-link,
  .product-card {
    min-height: 120px;
    padding: 16px;
    margin: 8px 0;
    touch-action: manipulation;
  }

  /* Enhanced spacing between interactive elements */
  .touch-element + .touch-element {
    margin-top: 8px;
  }
}

/* =============================================================================
   TABLET TOUCH OPTIMIZATIONS
   ============================================================================= */

@media (min-width: 769px) and (max-width: 1024px) {
  /* Tablet-optimized touch targets */
  button,
  [role="button"],
  .btn {
    min-height: 44px;
    min-width: 44px;
    padding: 12px 18px;
    margin: 4px 3px;
  }

  /* Tablet form elements */
  input,
  textarea,
  select {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
  }

  /* Tablet navigation */
  .nav-item {
    min-height: 44px;
    padding: 12px 16px;
  }
}

/* =============================================================================
   COMPONENT-SPECIFIC TOUCH TARGETS
   ============================================================================= */

/* Header navigation touch targets */
.header-nav button,
.header-nav a {
  min-height: 48px;
  min-width: 48px;
  padding: 12px 16px;
  margin: 0 4px;
}

/* Mobile menu toggle */
.mobile-menu-toggle {
  min-height: 48px;
  min-width: 48px;
  padding: 12px;
  position: relative;
}

/* Search input and button */
.search-container {
  display: flex;
  align-items: stretch;
}

.search-input {
  min-height: 44px;
  flex: 1;
  padding: 12px 16px;
  font-size: 16px;
}

.search-button {
  min-height: 44px;
  min-width: 44px;
  padding: 12px;
  border-left: 0;
}

/* Pagination controls */
.pagination button,
.pagination a {
  min-height: 44px;
  min-width: 44px;
  padding: 12px;
  margin: 2px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Social media icons */
.social-icon {
  min-height: 44px;
  min-width: 44px;
  padding: 10px;
  margin: 4px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Product grid items */
.product-item {
  min-height: 200px;
  padding: 16px;
  margin: 8px;
  touch-action: manipulation;
  position: relative;
}

.product-item button,
.product-item a {
  min-height: 44px;
  margin-top: 8px;
}

/* Cart and checkout buttons */
.add-to-cart,
.checkout-btn {
  min-height: 48px;
  min-width: 120px;
  padding: 14px 24px;
  font-size: 16px;
  font-weight: 600;
}

/* Quantity selectors */
.quantity-selector {
  display: flex;
  align-items: center;
  gap: 8px;
}

.quantity-btn {
  min-height: 44px;
  min-width: 44px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: bold;
}

.quantity-input {
  min-height: 44px;
  min-width: 60px;
  padding: 8px 12px;
  text-align: center;
  font-size: 16px;
}

/* Modal and dialog controls */
.modal-close,
.dialog-close {
  min-height: 44px;
  min-width: 44px;
  padding: 10px;
  position: absolute;
  top: 16px;
  right: 16px;
}

.modal-button,
.dialog-button {
  min-height: 48px;
  min-width: 100px;
  padding: 14px 20px;
  margin: 8px 4px;
}

/* =============================================================================
   TOUCH GESTURE ENHANCEMENTS
   ============================================================================= */

/* Swipe gesture areas */
.swipeable {
  touch-action: pan-x;
  min-height: 44px;
  padding: 12px;
}

/* Drag and drop areas */
.draggable,
.dropzone {
  min-height: 60px;
  padding: 16px;
  touch-action: none;
  user-select: none;
}

/* Pull-to-refresh areas */
.pull-to-refresh {
  min-height: 60px;
  padding: 20px;
  touch-action: pan-y;
}

/* =============================================================================
   ACCESSIBILITY ENHANCEMENTS FOR TOUCH
   ============================================================================= */

/* Focus states for touch devices */
@media (hover: none) and (pointer: coarse) {
  button:focus,
  [role="button"]:focus,
  a:focus {
    outline: 3px solid #2563eb;
    outline-offset: 2px;
    background-color: rgba(37, 99, 235, 0.1);
  }

  /* Enhanced active states for touch feedback */
  button:active,
  [role="button"]:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* High contrast mode adjustments for touch */
@media (prefers-contrast: high) {
  button,
  [role="button"],
  input,
  select,
  textarea {
    border: 2px solid #000000;
    min-height: 46px; /* Account for thicker border */
  }
}

/* =============================================================================
   LOADING STATES FOR TOUCH INTERFACES
   ============================================================================= */

/* Touch-friendly loading buttons */
.loading-button {
  min-height: 48px;
  position: relative;
  pointer-events: none;
  opacity: 0.7;
}

.loading-button::after {
  content: "";
  position: absolute;
  width: 20px;
  height: 20px;
  margin: auto;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  animation: button-loading-spinner 1s linear infinite;
}

@keyframes button-loading-spinner {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* =============================================================================
   ERROR HANDLING FOR TOUCH INTERFACES
   ============================================================================= */

/* Touch-friendly error states */
.touch-error {
  min-height: 48px;
  padding: 14px 16px;
  border: 2px solid #dc2626;
  background-color: #fef2f2;
  color: #dc2626;
  border-radius: 8px;
}

/* Success states */
.touch-success {
  min-height: 48px;
  padding: 14px 16px;
  border: 2px solid #16a34a;
  background-color: #f0fdf4;
  color: #16a34a;
  border-radius: 8px;
}

/* =============================================================================
   UTILITY CLASSES FOR TOUCH
   ============================================================================= */

/* Force minimum touch target */
.touch-target {
  min-height: 44px !important;
  min-width: 44px !important;
  padding: 12px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Large touch target */
.touch-target-large {
  min-height: 56px !important;
  min-width: 56px !important;
  padding: 16px !important;
}

/* Touch spacing utilities */
.touch-spacing {
  margin: 8px 4px;
}

.touch-spacing-large {
  margin: 12px 8px;
}

/* Disable tap highlight */
.no-tap-highlight {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  user-select: none;
}

/* Enable smooth scrolling for touch */
.touch-scroll {
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
}

/* Safe area padding for devices with notches */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-left: max(16px, env(safe-area-inset-left));
    padding-right: max(16px, env(safe-area-inset-right));
    padding-top: max(16px, env(safe-area-inset-top));
    padding-bottom: max(16px, env(safe-area-inset-bottom));
  }
}